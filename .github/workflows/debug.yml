# GitHub Actions
# SPDX-License-Identifier: GPL-2.0-only
# Copyright (C) 2020 Benjamin Schilling

name: Flutter Debug

on: push

jobs:
  build:
    runs-on: ubuntu-latest
  steps:
  - uses: actions/checkout@v2
  - uses: actions/setup-java@v1
    with:
      java-version: '12.x'
  - uses: subosito/flutter-action@v1
    with:
      flutter-version: '1.22.4'
  - run: |
       echo "storePassword=123" > android/key.properties
       echo "keyPassword=123" >> android/key.properties
       echo "keyAlias=123" >> android/key.properties
       echo "storeFile=123" >> android/key.properties
  - run: flutter pub get
  - run: flutter test
  - run: flutter build apk